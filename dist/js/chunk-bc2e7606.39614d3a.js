(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc2e7606"],{"1c5d":function(t,e,i){"use strict";i("8317")},8317:function(t,e,i){},cf05:function(t,e,i){t.exports=i.p+"img/logo.e223897d.png"},ddef:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"join"},[i("div",{staticClass:"container-scroller"},[i("div",{staticClass:"container-fluid page-body-wrapper full-page-wrapper"},[i("div",{staticClass:"content-wrapper d-flex align-items-center auth"},[i("div",{staticClass:"row w-100 flex-grow"},[i("div",{staticClass:"col-xl-4 col-lg-6 mx-auto"},[i("div",{staticClass:"auth-form-light text-left p-5 rounded shadow"},[t._m(0),t.expire.expired?i("div",{staticClass:"jumbotron pr-0 pl-0",staticStyle:{background:"transparent !important"}},[i("p",{staticClass:"lead"},[t._v(" "+t._s(t.expire.message)+" ")]),i("hr",{staticClass:"my-4"}),i("p",[t._v("Don't have account yet ?")]),i("router-link",{staticClass:"btn btn-block btn-HelloScribe btn-lg font-weight-medium auth-form-btn",attrs:{to:{name:t.$routerItems.REGISTER}}},[t._v(" Get Account ")])],1):t._e(),t.expire.expired?t._e():i("div",{staticClass:"jumbotron pr-0 pl-0",staticStyle:{background:"transparent !important"}},[i("p",{staticClass:"lead"},[t._v("Join Your Team")]),i("p",{staticClass:"font-weight-bold"},[t._v("You were invited by")]),t._v(" "+t._s(t.invitation.invitedBy)+" "),i("hr",{staticClass:"my-4"}),t.errorMessage?i("div",[i("span",{staticClass:"text-danger"},[t._v(t._s(t.errorMessage))])]):t._e(),i("br"),i("router-link",{staticClass:"btn btn-block btn-HelloScribe btn-lg font-weight-medium auth-form-btn",class:{isDisabled:t.userInfo.email==t.invitation.invitedBy},attrs:{to:"#"},nativeOn:{click:function(e){return t.handleJoin.apply(null,arguments)}}},[t._v(" "+t._s(this.$store.state.isLoggedIn?"Join "+this.invitation.team+" as "+t.userInfo.email:"Signup to join "+this.invitation.team)+" ")]),i("br"),this.$store.state.isLoggedIn?i("p",[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout()}}},[t._v("Logout to join with another user")])]):t._e(),this.$store.state.isLoggedIn?t._e():i("p",[i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout()}}},[t._v("Join with existing account")])])],1)])])])])])])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"brand-logo"},[n("img",{attrs:{src:i("cf05")}})])}],a=i("c0dc"),o=i("b012"),r=i("2f62"),l={name:"join-team",data(){return{invitation:{email:null,invitedBy:null,team:null,role:null,username:null},token:null,expire:{expired:!1,message:null},errorMessage:null}},methods:{handleJoin:function(){if(this.$store.state.isLoggedIn){const t={email:this.userInfo.email,existingUser:!0};Object(a["a"])().post("/invitation/"+this.$route.params.token,{info:t}).then(function(t){t&&(o["o"](t.data.user),this.$router.push({name:this.$routerItems.DASHBOARD}))}.bind(this)).catch(function(t){t.response&&(this.errorMessage=t.response.data.message)}.bind(this))}else{const t=this.$route.params.token;this.$router.push({name:this.$routerItems.REGISTER,params:{invitation:t}})}},logout:function(){const t=this.$route.params.token;o["l"](),this.$router.push({name:this.$routerItems.LOGIN,params:{invitation:t}})}},beforeMount(){Object(a["a"])().get("/checkstate/"+this.$route.params.token).then(function(t){t&&(console.log("RESPONSE",t),this.invitation.invitedBy=t.data.invitation.invitedBy,this.invitation.email=t.data.invitation.email,this.invitation.team=t.data.invitation.team,this.invitation.role=t.data.invitation.role,this.invitation.username=t.data.invitation.username)}.bind(this)).catch(function(t){t.response&&(console.log("ERROR",t.response),this.expire.message=t.response.data.message,this.expire.expired=!0)}.bind(this))},computed:{...Object(r["c"])({userInfo:"getCurrentUser"})}},c=l,u=(i("1c5d"),i("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-bc2e7606.39614d3a.js.map