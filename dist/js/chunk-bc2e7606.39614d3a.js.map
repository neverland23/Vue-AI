{"version":3,"sources":["webpack:///./src/pages/samples/auth-pages/join-team.vue?570b","webpack:///./src/assets/logo.png","webpack:///./src/pages/samples/auth-pages/join-team.vue?7bdd","webpack:///src/pages/samples/auth-pages/join-team.vue","webpack:///./src/pages/samples/auth-pages/join-team.vue?3b02","webpack:///./src/pages/samples/auth-pages/join-team.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","expire","staticStyle","_v","_s","message","attrs","name","$routerItems","REGISTER","_e","expired","invitation","invitedBy","errorMessage","class","isDisabled","userInfo","email","nativeOn","$event","handleJoin","apply","arguments","$store","state","isLoggedIn","on","preventDefault","logout","staticRenderFns","team","role","username","token","methods","user","existingUser","$route","params","$router","push","LOGIN","computed","component"],"mappings":"kHAAA,W,4CCAAA,EAAOC,QAAU,IAA0B,yB,yCCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,uDAAuD,CAACF,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAACN,EAAIO,GAAG,GAAIP,EAAIQ,OAAc,QAAEJ,EAAG,MAAM,CAACE,YAAY,sBAAsBG,YAAY,CAAC,WAAa,2BAA2B,CAACL,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAIQ,OAAOI,SAAS,OAAOR,EAAG,KAAK,CAACE,YAAY,SAASF,EAAG,IAAI,CAACJ,EAAIU,GAAG,8BAA8BN,EAAG,cAAc,CAACE,YAAY,wEAAwEO,MAAM,CAAC,GAAK,CAAEC,KAAMd,EAAIe,aAAaC,YAAa,CAAChB,EAAIU,GAAG,oBAAoB,GAAGV,EAAIiB,KAAOjB,EAAIQ,OAAOU,QAEjSlB,EAAIiB,KAFsSb,EAAG,MAAM,CAACE,YAAY,sBAAsBG,YAAY,CAAC,WAAa,2BAA2B,CAACL,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIU,GAAG,oBAAoBN,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACN,EAAIU,GAAG,yBAAyBV,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAImB,WAAWC,WAAW,KAAKhB,EAAG,KAAK,CAACE,YAAY,SAAUN,EAAgB,aAAEI,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIU,GAAGV,EAAIW,GAAGX,EAAIqB,mBAAmBrB,EAAIiB,KAAKb,EAAG,MAAMA,EAAG,cAAc,CAACE,YAAY,wEAAwEgB,MAAM,CACz+CC,WAAYvB,EAAIwB,SAASC,OAASzB,EAAImB,WAAWC,WACjDP,MAAM,CAAC,GAAK,KAAKa,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAO3B,EAAI4B,WAAWC,MAAM,KAAMC,cAAc,CAAC9B,EAAIU,GAAG,IAAIV,EAAIW,GAAGV,KAAK8B,OAAOC,MAAMC,WAAc,QAAWhC,KAAKkB,WAAe,KAAI,OAAUnB,EAAIwB,SAAc,MAAM,kBAAqBvB,KAAKkB,WAAe,MAAI,OAAOf,EAAG,MAAOH,KAAK8B,OAAOC,MAAgB,WAAE5B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO,KAAKqB,GAAG,CAAC,MAAQ,SAASP,GAAgC,OAAxBA,EAAOQ,iBAAwBnC,EAAIoC,YAAY,CAACpC,EAAIU,GAAG,wCAAwCV,EAAIiB,KAAOhB,KAAK8B,OAAOC,MAAMC,WAAqKjC,EAAIiB,KAA7Jb,EAAG,IAAI,CAACA,EAAG,IAAI,CAACS,MAAM,CAAC,KAAO,KAAKqB,GAAG,CAAC,MAAQ,SAASP,GAAgC,OAAxBA,EAAOQ,iBAAwBnC,EAAIoC,YAAY,CAACpC,EAAIU,GAAG,mCAA4C,oBACrrB2B,EAAkB,CAAC,WAAa,IAAIrC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,e,oCCgF9K,GACEC,KAAM,YACN,OACE,MAAO,CACLK,WAAY,CACVM,MAAO,KACPL,UAAW,KACXkB,KAAM,KACNC,KAAM,KACNC,SAAU,MAEZC,MAAO,KACPjC,OAAQ,CACNU,SAAS,EACTN,QAAS,MAEXS,aAAc,OAGlBqB,QAAS,CACPd,WAAY,WACV,GAAI3B,KAAK8B,OAAOC,MAAMC,WAAY,CAChC,MAAMU,EAAO,CACXlB,MAAOxB,KAAKuB,SAASC,MACrBmB,cAAc,GAEhB,OAAR,OAAQ,GACR,8CAAU,KAAV,IACA,KACA,YACA,IACY,EAAZ,kBACY,KAAZ,cAAc,KAAd,gCAEA,YAEA,MACA,YACA,aACY,KAAZ,uCAEA,gBAEA,CACQ,MAAMzB,EAAalB,KAAK4C,OAAOC,OAAOL,MACtCxC,KAAK8C,QAAQC,KAAK,CAChBlC,KAAMb,KAAKc,aAAaC,SACxB8B,OAAQ,CAAlB,kBAIIV,OAAQ,WACN,MAAMjB,EAAalB,KAAK4C,OAAOC,OAAOL,MACtC,EAAN,OACMxC,KAAK8C,QAAQC,KAAK,CAChBlC,KAAMb,KAAKc,aAAakC,MACxBH,OAAQ,CAAhB,kBAIE,cACE,OAAJ,OAAI,GACJ,6CACA,KACA,YACA,IACQ,QAAR,kBACQ,KAAR,iDACQ,KAAR,yCACQ,KAAR,uCACQ,KAAR,uCACQ,KAAR,iDAEA,YAEA,MACA,YACA,aACQ,QAAR,wBACQ,KAAR,uCACQ,KAAR,oBAEA,aAGEI,SAAU,IACZ,gBACM1B,SAAU,qBC1KiW,I,wBCQ7W2B,EAAY,eACd,EACApD,EACAsC,GACA,EACA,KACA,KACA,MAIa,aAAAc,E","file":"js/chunk-bc2e7606.39614d3a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./join-team.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.e223897d.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"join\"},[_c('div',{staticClass:\"container-scroller\"},[_c('div',{staticClass:\"container-fluid page-body-wrapper full-page-wrapper\"},[_c('div',{staticClass:\"content-wrapper d-flex align-items-center auth\"},[_c('div',{staticClass:\"row w-100 flex-grow\"},[_c('div',{staticClass:\"col-xl-4 col-lg-6 mx-auto\"},[_c('div',{staticClass:\"auth-form-light text-left p-5 rounded shadow\"},[_vm._m(0),(_vm.expire.expired)?_c('div',{staticClass:\"jumbotron pr-0 pl-0\",staticStyle:{\"background\":\"transparent !important\"}},[_c('p',{staticClass:\"lead\"},[_vm._v(\" \"+_vm._s(_vm.expire.message)+\" \")]),_c('hr',{staticClass:\"my-4\"}),_c('p',[_vm._v(\"Don't have account yet ?\")]),_c('router-link',{staticClass:\"btn btn-block btn-HelloScribe btn-lg font-weight-medium auth-form-btn\",attrs:{\"to\":{ name: _vm.$routerItems.REGISTER }}},[_vm._v(\" Get Account \")])],1):_vm._e(),(!_vm.expire.expired)?_c('div',{staticClass:\"jumbotron pr-0 pl-0\",staticStyle:{\"background\":\"transparent !important\"}},[_c('p',{staticClass:\"lead\"},[_vm._v(\"Join Your Team\")]),_c('p',{staticClass:\"font-weight-bold\"},[_vm._v(\"You were invited by\")]),_vm._v(\" \"+_vm._s(_vm.invitation.invitedBy)+\" \"),_c('hr',{staticClass:\"my-4\"}),(_vm.errorMessage)?_c('div',[_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errorMessage))])]):_vm._e(),_c('br'),_c('router-link',{staticClass:\"btn btn-block btn-HelloScribe btn-lg font-weight-medium auth-form-btn\",class:{\n                      isDisabled: _vm.userInfo.email == _vm.invitation.invitedBy,\n                    },attrs:{\"to\":\"#\"},nativeOn:{\"click\":function($event){return _vm.handleJoin.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(this.$store.state.isLoggedIn ? (\"Join \" + (this.invitation.team) + \" as \" + (_vm.userInfo.email)) : (\"Signup to join \" + (this.invitation.team)))+\" \")]),_c('br'),(this.$store.state.isLoggedIn)?_c('p',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout()}}},[_vm._v(\"Logout to join with another user\")])]):_vm._e(),(!this.$store.state.isLoggedIn)?_c('p',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout()}}},[_vm._v(\"Join with existing account\")])]):_vm._e()],1):_vm._e()])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"brand-logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <section class=\"join\">\n      <div class=\"container-scroller\">\n        <div class=\"container-fluid page-body-wrapper full-page-wrapper\">\n          <div class=\"content-wrapper d-flex align-items-center auth\">\n            <div class=\"row w-100 flex-grow\">\n              <div class=\"col-xl-4 col-lg-6 mx-auto\">\n                <div class=\"auth-form-light text-left p-5 rounded shadow\">\n                  <div class=\"brand-logo\">\n                    <img src=\"@/assets/logo.png\" />\n                  </div>\n                  <div\n                    v-if=\"expire.expired\"\n                    class=\"jumbotron pr-0 pl-0\"\n                    style=\"background: transparent !important\"\n                  >\n                    <p class=\"lead\">\n                      {{ expire.message }}\n                    </p>\n                    <hr class=\"my-4\" />\n                    <p>Don't have account yet ?</p>\n                    <router-link\n                      class=\"btn btn-block btn-HelloScribe btn-lg font-weight-medium auth-form-btn\"\n                      :to=\"{ name: $routerItems.REGISTER }\"\n                    >\n                      Get Account\n                    </router-link>\n                  </div>\n                  <div\n                    v-if=\"!expire.expired\"\n                    class=\"jumbotron pr-0 pl-0\"\n                    style=\"background: transparent !important\"\n                  >\n                    <p class=\"lead\">Join Your Team</p>\n                    <p class=\"font-weight-bold\">You were invited by</p>\n                    {{ invitation.invitedBy }}\n                    <hr class=\"my-4\" />\n                    <div v-if=\"errorMessage\">\n                      <span class=\"text-danger\">{{ errorMessage }}</span>\n                    </div>\n                    <br />\n                    <router-link\n                      v-bind:class=\"{\n                        isDisabled: userInfo.email == invitation.invitedBy,\n                      }\"\n                      class=\"btn btn-block btn-HelloScribe btn-lg font-weight-medium auth-form-btn\"\n                      to=\"#\"\n                      v-on:click.native=\"handleJoin\"\n                    >\n                      {{\n                        this.$store.state.isLoggedIn\n                          ? `Join ${this.invitation.team} as ${userInfo.email}`\n                          : `Signup to join ${this.invitation.team}`\n                      }}\n                    </router-link>\n                    <br />\n                    <p v-if=\"this.$store.state.isLoggedIn\">\n                      <a href=\"#\" v-on:click.prevent=\"logout()\"\n                        >Logout to join with another user</a\n                      >\n                    </p>\n                    <p v-if=\"!this.$store.state.isLoggedIn\">\n                      <a href=\"#\" v-on:click.prevent=\"logout()\"\n                        >Join with existing account</a\n                      >\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- content-wrapper ends -->\n        </div>\n        <!-- page-body-wrapper ends -->\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport { http } from '../../../services/HttpService';\nimport * as auth from '../../../services/AuthService';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'join-team',\n  data() {\n    return {\n      invitation: {\n        email: null,\n        invitedBy: null,\n        team: null,\n        role: null,\n        username: null,\n      },\n      token: null,\n      expire: {\n        expired: false,\n        message: null,\n      },\n      errorMessage: null,\n    };\n  },\n  methods: {\n    handleJoin: function() {\n      if (this.$store.state.isLoggedIn) {\n        const user = {\n          email: this.userInfo.email,\n          existingUser: true,\n        };\n        http()\n          .post(`/invitation/${this.$route.params.token}`, { info: user })\n          .then(\n            function(response) {\n              if (response) {\n                auth.setSession(response.data.user);\n                this.$router.push({ name: this.$routerItems.DASHBOARD });\n              }\n            }.bind(this)\n          )\n          .catch(\n            function(error) {\n              if (error.response) {\n                this.errorMessage = error.response.data.message;\n              }\n            }.bind(this)\n          );\n      } else {\n        const invitation = this.$route.params.token;\n        this.$router.push({\n          name: this.$routerItems.REGISTER,\n          params: { invitation },\n        });\n      }\n    },\n    logout: function() {\n      const invitation = this.$route.params.token;\n      auth.logout();\n      this.$router.push({\n        name: this.$routerItems.LOGIN,\n        params: { invitation },\n      });\n    },\n  },\n  beforeMount() {\n    http()\n      .get(`/checkstate/${this.$route.params.token}`)\n      .then(\n        function(response) {\n          if (response) {\n            console.log('RESPONSE', response);\n            this.invitation.invitedBy = response.data.invitation.invitedBy;\n            this.invitation.email = response.data.invitation.email;\n            this.invitation.team = response.data.invitation.team;\n            this.invitation.role = response.data.invitation.role;\n            this.invitation.username = response.data.invitation.username;\n          }\n        }.bind(this)\n      )\n      .catch(\n        function(error) {\n          if (error.response) {\n            console.log('ERROR', error.response);\n            this.expire.message = error.response.data.message;\n            this.expire.expired = true;\n          }\n        }.bind(this)\n      );\n  },\n  computed: {\n    ...mapGetters({\n      userInfo: 'getCurrentUser',\n    }),\n  },\n};\n</script>\n<style>\n.isDisabled {\n  color: currentColor;\n  cursor: not-allowed;\n  pointer-events: none;\n  opacity: 0.5;\n  text-decoration: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./join-team.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./join-team.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./join-team.vue?vue&type=template&id=645b4f88&\"\nimport script from \"./join-team.vue?vue&type=script&lang=js&\"\nexport * from \"./join-team.vue?vue&type=script&lang=js&\"\nimport style0 from \"./join-team.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}