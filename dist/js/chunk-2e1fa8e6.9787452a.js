(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e1fa8e6"],{"106e":function(t,s,i){"use strict";var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[t.subscribed?i("p",{staticClass:"alert-profile-tag pt-5 pb-5"}):i("p",{staticClass:"alert-profile-tag pt-5 pb-5"},[t._v(" Your free trial has expired. Need more? "),i("a",{staticStyle:{color:"#E91E63","text-decoration":"underline",cursor:"pointer"},on:{click:t.onUpgrade}},[t._v("Upgrade now!")])])])},e=[],a={name:"Header",data(){return{subscribed:this.$store.state.subscribed}},methods:{onUpgrade(){this.$router.push({name:this.$routerItems.UPGRADE})}}},r=a,o=i("2877"),c=Object(o["a"])(r,n,e,!1,null,null,null);s["a"]=c.exports},"41b7":function(t,s,i){"use strict";i.r(s);var n=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("section",{staticClass:"billing mb-4"},[n("Header"),n("div",{staticClass:"profilecenterbox"},[t.subscriptionLoading?n("div",{staticClass:"loading-panel"},[t._v(" Stripe Payment Processing.... ")]):t._e(),n("div",{staticClass:"text-center pb-4"},[n("Breadcrumb")],1),t.subscriptionInfo.cancel_at_period_end&&"active"==this.subscriptionInfo.status?n("div",{staticClass:"changeplan-box"},[n("div",{staticClass:"changeplan-left"},[n("h4",[t._v(" "+t._s("$"+t.subscriptionInfo.price+"/"+(t.subscriptionInfo.price>=150?"year":"month"))+" ")]),n("div",{staticClass:"inputsec-changeplan"},[n("input",{attrs:{type:"text",placeholder:t.subscriptionInfo.card_last4,disabled:""}}),n("img",{staticClass:"card-icon",attrs:{src:i("78d1")}}),n("a",{on:{click:t.redirectBillingSubscription}},[n("img",{staticClass:"card-refresh",attrs:{src:i("e6c1")}})])]),n("p",[t._v(" Your plan will remain active until your billing period ends on : "),n("span",[t._v(t._s(t.subscriptionInfo.current_period_end))])]),n("a",{on:{click:t.redirectBillingSubscription}},[t._v("Reactivate subscription")])]),this.$store.state.subscribed?n("div",{staticClass:"changeplan-right"},[n("h5",[t._v("Change plan")]),n("p",[t._v("You can easily change the plan you choose")]),n("button",{staticClass:"btn btn btn-fw btn-primary",on:{click:t.redirectBillingSubscription}},[t._v(" Change ")])]):t._e()]):t._e(),this.$store.state.subscribed&&!t.subscriptionInfo.cancel_at_period_end?n("div",{staticClass:"changeplan-box"},[n("div",{staticClass:"changeplan"},[n("h3",[t._v("Current Plan")]),n("h4",[t._v(" "+t._s("$"+t.subscriptionInfo.price+"/"+(t.subscriptionInfo.price>=150?"year":"month"))+" ")]),n("div",{staticClass:"inputsec-changeplan"},[n("input",{attrs:{type:"text",placeholder:t.subscriptionInfo.card_last4,disabled:""}}),n("img",{staticClass:"card-icon",attrs:{src:i("78d1")}})]),n("div",{staticClass:"row"},[n("a",{on:{click:t.redirectBillingSubscription}},[t._v("Change Plan")]),n("a",{on:{click:t.redirectBillingSubscription}},[t._v("Update Payment Method")]),n("a",{on:{click:t.redirectBillingSubscription}},[t._v("Cancel Subscription")])])])]):t._e(),n("div",{staticClass:"grid-margin stretch-card mb-0"},[n("div",{staticClass:"card border-0"},[n("div",{staticClass:"card-body pl-0 pr-0 pb-0"},[this.$store.state.subscribed&&"active"==this.subscriptionInfo.status?t._e():n("div",{staticClass:"inline-block border p-3 rounded"},[n("div",{staticClass:"subsbox-fix"},[t._m(0),n("button",{staticClass:"btn btn btn-fw btn-primary",attrs:{type:"button"},on:{click:t.onUpgrade}},[t._v(" View Plans ")])])])])])]),t.subscriptionInfo.invoices?n("div",{staticClass:"col-md-12 mt-2"},[n("h6",{staticClass:"card-title"},[t._v("Invoices")]),n("div",{staticClass:"col-md-8 grid-margin stretch-card"},[n("b-table",{attrs:{items:t.subscriptionInfo.invoices,id:"table-list",responsive:""},scopedSlots:t._u([{key:"cell(Invoice)",fn:function(s){return[n("b-link",{staticClass:"\n                                    btn\n                                    btn-outline-HelloScribe\n                                    btn-icon-text\n                                ",attrs:{href:s.value,role:"button"}},[n("i",{staticClass:"icon-doc btn-icon-append"}),t._v("Download ")])]}}],null,!1,2331369698)})],1)]):t._e()])],1)])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{},[i("h4",[t._v("Start Your Subscription")]),i("p",[t._v(" Choose the plan that suits you best. ")])])}],a=i("aef1"),r=i("1bc2"),o=i("b012"),c=i("c0dc"),l=i("3d20"),u=i.n(l),d=i("2f62"),p=i("106e"),b={name:"billing",components:{Breadcrumb:a["a"],Header:p["a"]},data(){return{subscriptionLoading:!1,subscriptionInfo:{plan:null,card_last4:null,card_brand:null,current_period_end:null,cancel_at_period_end:null,subscription_id:null,invoices:null,status:null},returnURL:this.$config.appBaseUrl+"/subscription/success-upgrade"}},computed:{...Object(d["c"])({userInfo:"getCurrentUser"})},methods:{redirectBillingSubscription(){Object(c["a"])().post("/redirect-billing-subscription",{info:{customer:this.userInfo.stripeCustomerId,return_url:this.returnURL}}).then(t=>{console.log("session & customerid",t.data.session,this.userInfo.stripeCustomerId),this.subscriptionLoading=!0,console.log("checkout res: ",t.data.session.url),window.location.href=t.data.session.url}).catch(t=>{this.subscriptionLoading=!1,console.log("checkout err: ",t),u.a.fire({position:"top-end",icon:"warning",title:t.message,showConfirmButton:!1,customClass:{popup:"toast-popup",header:"toast-header",title:"toast-title"},timer:1500})})},showSubscriptionInformation(){const t=this.userInfo.stripeCustomerId;r["c"](t).then(function(t){t&&(this.subscriptionInfo.subscription_id=t.data.subscriptionInfo.subscription_id,this.subscriptionInfo.price=t.data.subscriptionInfo.price/100,this.subscriptionInfo.card_last4=t.data.subscriptionInfo.card_last4,this.subscriptionInfo.card_brand=t.data.subscriptionInfo.card_brand.toUpperCase(),this.subscriptionInfo.current_period_end=r["d"](t.data.subscriptionInfo.current_period_end),this.subscriptionInfo.cancel_at_period_end=t.data.subscriptionInfo.cancel_at_period_end,this.subscriptionInfo.status=t.data.subscriptionInfo.status)}.bind(this)),console.log("sub_info",this.subscriptionInfo)},onUpgrade(){Object(c["a"])().get("/check-subscription").then(function(t){200===t.status&&this.$router.push({name:this.$routerItems.UPGRADE})}.bind(this)).catch(function(t){t.response&&(o["p"](t.response.data.state.payload),this.$swal.fire({position:"top-end",icon:"error",title:t.response.data.state.message,showConfirmButton:!1,timer:2e3}))}.bind(this))}},mounted:function(){this.$store.state.subscribed&&this.showSubscriptionInformation();const t=o["b"]();t&&this.$swal.fire({position:"top-end",icon:"warning",title:"Warning",text:"Your current plan has expired. Please upgrade to continue",showConfirmButton:!0})},beforeCreate:function(){},beforeMount:function(){const t=o["d"]();t&&r["b"](t).then(function(t){t.data.invoices.length>0&&(this.subscriptionInfo.invoices=t.data.invoices)}.bind(this))}},h=b,A=(i("9582"),i("2877")),f=Object(A["a"])(h,n,e,!1,null,null,null);s["default"]=f.exports},"78d1":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAACfpi8JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB7ZZNaxNRFIafO5M0TZGkREVEMiquhLbahQvBunbhDzDiwrU71910qdkIQrHBpfUHKKi4tuJaG8SNtiYLJVhNYtpo5uM4E2vE2LnTCZRk0QcGhrnvvfflnMM5oz7VWtcTJndEmGQYKLWOGAuqtrG5hsgJhkvdGAETAZMGI8LIGEnsRqQqFVRpCZ4+QVWrkMkg09PIlQJSuPr7oI0XJKvLJL6uYGx9RBJZnENz2EcuY+evRd9R+9ISncAo3UPNz4cL8nlS9y+R/LwYKnEOztE+s4Q3cZyBjBjFW6hiER0T5xxSsx7OLEg6XOdmZ9g8/6wbqR3vCtvYTUeEidQpl/HTHuoHmO+0UszGG8Y+hEct3EjxNlEEJnoHffP31PX61NoiymkQywjlVXSoMcHM/ZtV9R39HrvRLeRYRlS5jI5E7v/SUg6RGM3VeEbIZtHhthSDIMmYxSpTU+jwfCPS6ft2gEi8zAzxjGw3Kh0/3//dLuP+c1ivD/qJl7aIZyTomhFRab82e1FxTxJJ+2wpdE07a7wHy4hlha5LR9F8nsQ+5muPomUr6KxpazAj5C28R4/xCoUdlwOT9t2HNG+8pRMyT4J0tC6+ipw3kbOmR9NvRCsvobHdkPyhR1/qjHYFw++gf5qWk7uAaObLYEb2mP0fo34CI3WGjF8b64YLN4MXhobUFebCL9AeunpfPB4AAAAAAElFTkSuQmCC"},9582:function(t,s,i){"use strict";i("a147")},a147:function(t,s,i){},aef1:function(t,s,i){"use strict";var n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"iq-card"},[i("div",{staticClass:"iq-card-body p-0"},[i("div",{staticClass:"iq-edit-list"},[i("ul",{staticClass:"iq-edit-profile d-flex nav nav-pills"},[i("li",{staticClass:"col-md-3 p-0"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:t.$routerItems.ACCOUNT},"exact-active-class":"exact-active"}},[t._v(" Personal Info. ")])],1),i("li",{staticClass:"col-md-3 p-0"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:t.$routerItems.PASSWORD},"exact-active-class":"exact-active"}},[t._v("Password")])],1),i("li",{staticClass:"col-md-3 p-0"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:t.$routerItems.TEAM},"exact-active-class":"exact-active"}},[t._v("Team")])],1),i("li",{staticClass:"col-md-3 p-0"},[i("router-link",{staticClass:"nav-link",attrs:{to:{name:t.$routerItems.BILLING},"exact-active-class":"exact-active"}},[t._v("Billing")])],1)])])])])])},e=[],a={name:"breadcrumb",data(){return{role:this.$store.state.role}},methods:{},components:{}},r=a,o=i("2877"),c=Object(o["a"])(r,n,e,!1,null,null,null);s["a"]=c.exports},e6c1:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFKSURBVHgBxZPNTcNAEIVnjHPj4BJMBTEdmA6SDoxEuGZTAaIChhsSIEwFiSuI6cB04BLMwacgD28XgrMRkSyBxFyS+dlv386MiX5pfChhjImopZiUIjqmSkSaQQAzMwkT3+BvuhtX1ZJCOpc7qc2FSS1YHmXlAcylmbDyEslGSQWgClc01FFCARmUxPAz5DMASR7kLPSu7yjGwZLeaSq5J/nFZKbgkYPn8G2usgkPAKLYH/rJQsBZSyhM4EV9eKAFQTCH7Ekf+FTw/+amsJgt7Lvn2yCkrtCP6RDAtgfj78Osgk4XNND6JmL20BOhy6mGertfaDeTW15CXfE1LR+A+duuPmN5nrjjtX0Wil/txvERRte6J0bwPXjgDnfuxmu5l1w3eoKiGr4w85oDtzxXgFXIndr13QUc/pgySB7xGMreaEP13mb+nX0A35WNmxm+/o8AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=chunk-2e1fa8e6.9787452a.js.map