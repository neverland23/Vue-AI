(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e8c6bca"],{"106e":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.subscribed?a("p",{staticClass:"alert-profile-tag pt-5 pb-5"}):a("p",{staticClass:"alert-profile-tag pt-5 pb-5"},[e._v(" Your free trial has expired. Need more? "),a("a",{staticStyle:{color:"#E91E63","text-decoration":"underline",cursor:"pointer"},on:{click:e.onUpgrade}},[e._v("Upgrade now!")])])])},i=[],o={name:"Header",data(){return{subscribed:this.$store.state.subscribed}},methods:{onUpgrade(){this.$router.push({name:this.$routerItems.UPGRADE})}}},n=o,l=a("2877"),r=Object(l["a"])(n,s,i,!1,null,null,null);t["a"]=r.exports},"1bc2":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return m}));var s=a("c0dc"),i=(a("4360"),a("b012")),o=a("a18c"),n=a("aaee");async function l(e){return await Object(s["a"])().get("/retrieve-subscription-information/"+e)}async function r(e){await Object(s["a"])().get("/set-subscription/"+e).then(e=>{e.data.payload&&(console.log("canel: ",e.data.payload),i["o"](e.data.payload),setTimeout(()=>{o["a"].push({name:n["a"].EXPLORER_PROJECTS})},2e3))})}async function d(e){await Object(s["a"])().get("/upgrade-subscription/"+e).then(e=>{e.data.payload&&(i["o"](e.data.payload),setTimeout(()=>{o["a"].push({name:n["a"].EXPLORER_PROJECTS})},2e3))})}function c(){return Object(s["a"])().get("/helloscribe-plans")}function u(e){return Object(s["a"])().get("/get-invoices/"+e)}function m(e){const t=new Date(1e3*e);return t.toISOString().substring(0,10)}},"7c23":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"users-table mb-4"},[a("Header"),a("div",{staticClass:"profilecenterbox"},[a("div",{staticClass:"text-center pb-4"},[a("Breadcrumb")],1),a("div",{staticClass:"grid-margin stretch-card mb-0"},[a("div",{staticClass:"card border-0"},[a("div",{staticClass:"card-body pl-0 pr-0 pb-0"},[a("button",{staticClass:"btn btn-primary btn-icon-text pull-right",attrs:{type:"button",disabled:!e.isEnabledInvite},on:{click:e.openAddModal}},[a("i",{staticClass:"mdi mdi-account-multiple-plus"}),e._v(" Invite a Member ")]),a("table",[a("thead",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"form-control float-right mb-1",attrs:{id:"tableSearch",type:"text",placeholder:"Search"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),e._m(0)]),a("tbody",e._l(e.filteredRows.slice(e.pageStart,e.pageStart+e.countOfPage),(function(t,s){return a("tr",{key:"user-"+s},[a("td",{staticClass:"d-none"},[e._v(e._s(t._id))]),a("td",[e._v(e._s(t.user.username))]),a("td",[e._v(e._s(t.user.email))]),a("td",[a("span",{staticClass:"badge badge-info"},[e._v(" "+e._s(t.access))])]),a("td",[a("a",{staticClass:"edit",attrs:{href:"#",title:"edit","data-toggle":"tooltip"},on:{click:function(a){return e.openEditModal(t)}}},[a("i",{staticClass:"mdi mdi-table-edit"})]),a("a",{staticClass:"delete",attrs:{href:"#",title:"Delete","data-toggle":"tooltip"},on:{click:function(a){return e.openDeleteModal(t)}}},[a("i",{staticClass:"\n                                                    mdi mdi-delete-forever\n                                                "})])])])})),0)]),a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-end"},[a("li",{staticClass:"page-item",class:{disabled:1===e.currPage},on:{click:function(t){return t.preventDefault(),e.setPage(e.currPage-1)}}},[a("a",{staticClass:"page-link",attrs:{href:""}},[e._v("Prev")])]),e._l(e.totalPage,(function(t){return a("li",{key:t,staticClass:"page-item",class:{active:e.currPage===t},on:{click:function(a){return a.preventDefault(),e.setPage(t)}}},[a("a",{staticClass:"page-link",attrs:{href:""}},[e._v(e._s(t))])])})),a("li",{staticClass:"page-item",class:{disabled:e.currPage===e.totalPage},on:{click:function(t){return t.preventDefault(),e.setPage(e.currPage+1)}}},[a("a",{staticClass:"page-link",attrs:{href:""}},[e._v("Next")])])],2)])])])]),e.loadingTable?a("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[e._v("Loading...")])]):e._e()])],1),e.addModal.myModal?a("div",{staticClass:"users-modal"},[a("transition",{attrs:{name:"model"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("span",[e._v("Sending Invite Email")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.addModal.myModal=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[e.addModal.errorMessage?a("span",{staticClass:"text-danger"},[e._v(e._s(e.addModal.errorMessage))]):e._e(),a("form",{staticClass:"custom-form",on:{submit:function(t){return t.preventDefault(),e.addUser.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addModal.name,expression:"addModal.name"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.addModal.name.$error},attrs:{type:"text"},domProps:{value:e.addModal.name},on:{input:function(t){t.target.composing||e.$set(e.addModal,"name",t.target.value)}}}),e.submitted&&e.$v.addModal.name.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.addModal.name.required?e._e():a("span",[e._v("Name is required")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addModal.email,expression:"addModal.email"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.addModal.email.$error},attrs:{type:"text"},domProps:{value:e.addModal.email},on:{input:function(t){t.target.composing||e.$set(e.addModal,"email",t.target.value)}}}),e.submitted&&e.$v.addModal.email.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.addModal.email.required?e._e():a("span",[e._v("Email is required")]),e.$v.addModal.email.email?e._e():a("span",[e._v("Email is invalid")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"role"}},[e._v("Role:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.addModal.role,expression:"addModal.role"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.addModal.role.$error},attrs:{id:"roles",name:"roles"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.addModal,"role",t.target.multiple?a:a[0])}}},e._l(e.addModal.roles,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),e.submitted&&e.$v.addModal.role.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.addModal.role.required?e._e():a("span",[e._v("Role is required")])]):e._e()]),a("br"),a("div",{staticClass:"form-group",attrs:{align:"center"}},[e.loading?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.addModal.actionButton,expression:"addModal.actionButton"}],staticClass:"\n                                                btn\n                                                btn-outline-success\n                                                btn-icon-text\n                                            ",attrs:{type:"submit"},domProps:{value:e.addModal.actionButton},on:{input:function(t){t.target.composing||e.$set(e.addModal,"actionButton",t.target.value)}}}),e.loading?a("div",[a("span",{staticClass:"\n                                                    spinner-grow\n                                                    spinner-grow-sm\n                                                    btn-outline-success\n                                                ",attrs:{role:"status","aria-hidden":"true"}}),e._v(" Loading... ")]):e._e()])])])])])])])])],1):e._e(),e.editModal.myModal?a("div",{staticClass:"users-modal"},[a("transition",{attrs:{name:"model"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("span",[e._v("Update User")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.editModal.myModal=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[e.editModal.errorMessage?a("span",{staticClass:"text-danger"},[e._v(e._s(e.editModal.errorMessage))]):e._e(),a("form",{staticClass:"custom-form",on:{submit:function(t){return t.preventDefault(),e.editUser.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.name,expression:"editModal.name"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.editModal.name.$error},attrs:{type:"text"},domProps:{value:e.editModal.name},on:{input:function(t){t.target.composing||e.$set(e.editModal,"name",t.target.value)}}}),e.submitted&&e.$v.editModal.name.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.editModal.name.required?e._e():a("span",[e._v("Name is required")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.email,expression:"editModal.email"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.editModal.email.$error},attrs:{type:"text"},domProps:{value:e.editModal.email},on:{input:function(t){t.target.composing||e.$set(e.editModal,"email",t.target.value)}}}),e.submitted&&e.$v.editModal.email.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.editModal.email.required?e._e():a("span",[e._v("Email is required")]),e.$v.editModal.email.email?e._e():a("span",[e._v("Email is invalid")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"role"}},[e._v("Role:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.editModal.role,expression:"editModal.role"}],staticClass:"form-control",attrs:{id:"roles",name:"roles"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.editModal,"role",t.target.multiple?a:a[0])}}},e._l(e.editModal.roles,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("br"),e.loading?e._e():a("div",{attrs:{align:"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editModal.actionButton,expression:"editModal.actionButton"}],staticClass:"\n                                                btn\n                                                btn-outline-success\n                                                btn-icon-text\n                                            ",attrs:{type:"submit"},domProps:{value:e.editModal.actionButton},on:{input:function(t){t.target.composing||e.$set(e.editModal,"actionButton",t.target.value)}}}),e.loading?a("div",[a("span",{staticClass:"\n                                                    spinner-grow\n                                                    spinner-grow-sm\n                                                    btn-outline-success\n                                                ",attrs:{role:"status","aria-hidden":"true"}}),e._v(" Loading... ")]):e._e()])])])])])])])])],1):e._e(),e.deleteModal.myModal?a("div",{staticClass:"users-modal"},[a("transition",{attrs:{name:"model"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("span",[e._v("Delete User")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){e.deleteModal.myModal=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),a("div",{staticClass:"modal-body"},[e.deleteModal.errorMessage?a("span",{staticClass:"text-danger"},[e._v(e._s(e.deleteModal.errorMessage))]):e._e(),a("form",{staticClass:"custom-form",on:{submit:function(t){return t.preventDefault(),e.deleteUser.apply(null,arguments)}}},[a("div",[a("span",[e._v("Are you sure you want to delete "+e._s(e.deleteModal.name))])]),a("br"),a("div",{attrs:{align:"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.deleteModal.actionButton,expression:"\n                                                deleteModal.actionButton\n                                            "}],staticClass:"\n                                                btn\n                                                btn-outline-danger\n                                                btn-icon-text\n                                            ",attrs:{type:"submit"},domProps:{value:e.deleteModal.actionButton},on:{input:function(t){t.target.composing||e.$set(e.deleteModal,"actionButton",t.target.value)}}})])])])])])])])])],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Name")]),a("th",[e._v("Email")]),a("th",[e._v("Role")]),a("th",[e._v("Actions")])])}],o=a("aef1"),n=a("c0dc"),l=a("b5ae"),r=a("1bc2"),d=a("2f62"),c=a("106e"),u={name:"team",components:{Breadcrumb:o["a"],Header:c["a"]},data(){return{users:[],searchQuery:"",countOfPage:8,currPage:1,loading:!1,loadingTable:!1,isEnabledInvite:!1,addModal:{myModal:!1,actionButton:"Send Invitation",email:null,name:null,role:null,roles:["user","owner","admin"],errorMessage:null},editModal:{myModal:!1,actionButton:"Update",id:null,userId:null,email:null,name:null,role:null,roles:["user","owner","admin"],errorMessage:null},deleteModal:{myModal:!1,id:null,name:null,actionButton:"Delete User",errorMessage:null},submitted:!1}},validations:{addModal:{email:{required:l["required"],email:l["email"]},name:{required:l["required"]},role:{required:l["required"]}},editModal:{email:{required:l["required"],email:l["email"]},name:{required:l["required"]}}},methods:{async getSubscriptionInformation(){const e=this.$store.state.stripeCustomerId;r["c"](e).then(function(e){if(e){const t=e.data.subscriptionInfo.price/100;this.isEnabledInvite=149===t||1495===t}}.bind(this))},openEditModal:function(e){this.editModal.errorMessage=!1,this.editModal.myModal=!0,this.editModal.id=e._id,this.editModal.userId=e.user._id,this.editModal.name=e.user.username,this.editModal.email=e.user.email,this.editModal.role=e.access},openAddModal:function(){this.addModal.errorMessage=!1,this.addModal.myModal=!0},openDeleteModal:function(e){this.deleteModal.errorMessage=!1,this.deleteModal.myModal=!0,this.deleteModal.id=e.user._id,this.deleteModal.name=e.username},editUser:function(){if(this.submitted=!0,this.$v.editModal.$touch(),this.$v.editModal.$invalid)return;this.loading=!0;const e=this.editModal.id,t={username:this.editModal.name,role:this.editModal.role,email:this.editModal.email,id:this.editModal.userId};Object(n["a"])().put("/member/"+e,{info:t}).then(function(e){e&&(this.$swal.fire({position:"top-end",icon:"success",title:e.data.message,showConfirmButton:!1,timer:2e3}),this.loading=!1,this.editModal.myModal=!1)}.bind(this)).catch(function(e){e.response&&(this.editModal.errorMessage=e.response.data.message,this.$swal.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2e3}),this.loading=!1)}.bind(this))},addUser:function(){if(this.submitted=!0,this.$v.addModal.$touch(),this.$v.addModal.$invalid)return;const e={nameSender:this.userInfo.email,nameReceiver:this.addModal.name,email:this.addModal.email,role:this.addModal.role};this.loading=!0,Object(n["a"])().post("/invite/",{info:e}).then(function(e){e&&(this.$swal.fire({position:"top-end",icon:"success",title:e.data.message,showConfirmButton:!1,timer:2e3}),this.loading=!1,this.addModal.myModal=!1)}.bind(this)).catch(function(e){e.response&&(this.addModal.errorMessage=e.response.data.message,this.$swal.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2e3}),this.loading=!1)}.bind(this))},deleteUser:function(){const e=this.deleteModal.id;Object(n["a"])().delete("/member/"+e).then(function(t){if(t){this.$swal.fire({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:2e3}),this.deleteModal.myModal=!1;const a=this.users.findIndex(t=>t._id===e);~a&&this.users.splice(a,1)}}.bind(this)).catch(function(e){e.response&&(this.deleteModal.errorMessage=e.response.data.message,this.$swal.fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:2e3}))}.bind(this))},setPage:function(e){e<=0||e>this.totalPage||(this.currPage=e)}},async beforeMount(){this.loadingTable=!0,await this.getSubscriptionInformation(),Object(n["a"])().get("/members").then(function(e){e&&(this.users=e.data.membersOfAccount||[]),this.loadingTable=!1}.bind(this)).catch((function(e){console.log(e)}))},computed:{...Object(d["c"])({userInfo:"getCurrentUser"}),filteredRows(){return this.users.filter(e=>{const t=e.user.username.toString().toLowerCase(),a=e.user.email.toLowerCase(),s=this.searchQuery.toLowerCase();return a.includes(s)||t.includes(s)})},pageStart:function(){return(this.currPage-1)*this.countOfPage},totalPage:function(){return Math.ceil(this.filteredRows.length/this.countOfPage)}}},m=u,v=a("2877"),p=Object(v["a"])(m,s,i,!1,null,null,null);t["default"]=p.exports},aef1:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"iq-card"},[a("div",{staticClass:"iq-card-body p-0"},[a("div",{staticClass:"iq-edit-list"},[a("ul",{staticClass:"iq-edit-profile d-flex nav nav-pills"},[a("li",{staticClass:"col-md-3 p-0"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:e.$routerItems.ACCOUNT},"exact-active-class":"exact-active"}},[e._v(" Personal Info. ")])],1),a("li",{staticClass:"col-md-3 p-0"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:e.$routerItems.PASSWORD},"exact-active-class":"exact-active"}},[e._v("Password")])],1),a("li",{staticClass:"col-md-3 p-0"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:e.$routerItems.TEAM},"exact-active-class":"exact-active"}},[e._v("Team")])],1),a("li",{staticClass:"col-md-3 p-0"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:e.$routerItems.BILLING},"exact-active-class":"exact-active"}},[e._v("Billing")])],1)])])])])])},i=[],o={name:"breadcrumb",data(){return{role:this.$store.state.role}},methods:{},components:{}},n=o,l=a("2877"),r=Object(l["a"])(n,s,i,!1,null,null,null);t["a"]=r.exports}}]);
//# sourceMappingURL=chunk-9e8c6bca.c89aea48.js.map