(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25feb831"],{"147b":function(t,e,a){"use strict";a("2b49")},"153b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[t.hideSave?t._e():s("b-button",{staticClass:"d-flex align-items-center mr-4 py-2",attrs:{disabled:t.saving,variant:"outline-primary"},on:{click:t.save}},[s("span",{staticClass:"material-icons-outlined mr-1"},[t._v(" save ")]),t._v(" Save ")]),s("b-button",{staticClass:"d-flex align-items-center mr-4 py-2",attrs:{variant:"outline-primary"},on:{click:t.copy}},[s("img",{attrs:{src:a("372e")}}),t._v(" "+t._s(t.copied?"Copied":"Copy")+" "),t.copied?s("span",{staticClass:"material-icons-outlined ml-1 text-success"},[t._v(" done ")]):t._e()]),t.hideNote?t._e():s("b-button",{staticClass:"d-flex align-items-center mr-4 py-2",attrs:{disabled:t.adding,variant:"outline-primary"},on:{click:t.add}},[s("img",{attrs:{src:a("7a34")}}),t._v(" "+t._s(t.added?"Saved":"Save to Notes")+" "),t.added?s("span",{staticClass:"material-icons-outlined ml-1 text-success"},[t._v(" done ")]):t._e()]),s("b-button",{staticClass:"d-flex align-items-center mr-4 py-2",attrs:{variant:"outline-primary"},on:{click:t.generate_similar}},[t.loading?s("b-spinner",{staticClass:"mr-2",attrs:{small:"",label:"Spinning"}}):s("img",{staticStyle:{"margin-right":"8px"},attrs:{src:a("467d")}}),t._v(" Similar ")],1),s("b-button",{staticClass:"d-flex align-items-center mr-2 py-2",attrs:{disabled:t.deleting,variant:"outline-primary"},on:{click:t.remove}},[s("img",{attrs:{src:a("44ee")}}),t._v(" Remove ")])],1)},i=[],o={name:"GeneratorTools",props:{adding:{type:Boolean,default:!1},added:{type:Boolean,default:!1},copied:{type:Boolean,default:!1},hideSave:{type:Boolean,default:!0},hideNote:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},deleting:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},methods:{add(){this.$emit("add")},save(){this.$emit("save")},copy(){this.$emit("copy")},remove(){this.$bvModal.msgBoxConfirm("Do you want to delete this item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",cancelVariant:"primary",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(t=>{t&&this.$emit("remove")}).catch(t=>{})},generate_similar(){console.log(this.loading),this.$emit("generate_similar")}}},r=o,n=(a("147b"),a("2877")),l=Object(n["a"])(r,s,i,!1,null,"832d99da",null);e["a"]=l.exports},"2b49":function(t,e,a){},"467d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAMAAACK2/weAAAAolBMVEUAAAAAAAAAAABAAEAkACQgACAcABwuAC4rACspCikkCSQpCCkoBygrBSsqCSonCCcpByknBycpBikpCCkoCCgnBycpBykpBykoBygpByknBycnBicoBigoBygoBygnBycnBycoBigpCCkoBygnBycoBygoBygoBygoBigoBygoBygoBygoBygoBygoBygoBygoBygoBygoBygoBygoByj///8qjhcOAAAANHRSTlMAAQMEBwgJCwwZHB8mMDdBSk5QXWVpamtscXV8fouSlZyeqq2vtLrEx9DU6Onq9vf6+/z9RHwUowAAAAFiS0dENd622WsAAACYSURBVBgZRcGJFkJAAAXQRygVKm32pmVQifL+/9tyynAvlOnexMiQdDDQz2xMKJrgq8QgYfQ8QYmZLrhD70ihbejiz28vOgLeQxud9VsagLXN+bmt4NXFDD/LjBUqZkv8zIraw+r2Yb61AEO+1+jY4Z0B9Evr48/lRhM8onfgPGEERTxiphiULwoNitnwOsHAoTQwMvdT9L6NCQ6Z8HM6LAAAAABJRU5ErkJggg=="},"51cb":function(t,e,a){"use strict";a("6b74")},"6b74":function(t,e,a){},"70a4":function(t,e,a){"use strict";a("e935")},"7a34":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADsSURBVHgB7ZTRCcJADIaTQ1F86gjni7RvukHdQDfRCXQDdQLdwBHEDXzzfNIR+qYFbfyvIkjFttIKPvSH444k9yUEEqJ/FycNbtPVFNEk66OwBMy8MBdzerXX3iNpycRd+4FSK2EtkWg8h+nAR/adCU2fUuQ23A0qdJJ2RSWrAlbAXwExjn48kkWB2tGO1/DmGMcNztGre7MscO2To9PqDNRZzYRE48wVcouSEcADQKe4v6rQVze1BiigG/mH8DDeh/sxNkI79gqtWLibC2ghCA5wjwDqmavZPn12VWFptAGeUl7ZHtnelRVXWHd3k1F5YJ1l6AAAAABJRU5ErkJggg=="},"9d62":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("writing-toolbar",{ref:"writing_toolbar",attrs:{baseData:t.baseData,answers:t.answers,past_answers:t.past_answers,tool_type:t.tool_type},on:{download_results:t.download_results}}),a("div",{staticClass:"pad-eq30"},[a("div",{staticClass:"row"},[a("div",{staticClass:"centertoolsbox mb-4"},[a("media-pitch-form",{attrs:{base_data:t.baseData},on:{generated:t.generatedMessage}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"message-container"},[t._l(t.past_answers,(function(e,s){return a("b-card",{key:"past"+s},[a("div",{staticClass:"media-item mb-3"},[a("resizable-editor",{model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}})],1),a("generator-tools",{attrs:{adding:e.adding,copied:e.copied,added:e.added,saving:e.saving,loading:e.loading},on:{add:function(a){return t.addToNotes(e)},save:function(a){return t.saveMessage(e)},copy:function(a){return t.copyMessage(e)},remove:function(e){return t.removeItem_past(s)},generate_similar:function(a){return t.generate_similar(e)}}})],1)})),t._l(t.answers,(function(e,s){return a("b-card",{key:s},[a("div",{staticClass:"media-item mb-3"},[a("resizable-editor",{model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}})],1),a("generator-tools",{attrs:{adding:e.adding,copied:e.copied,added:e.added,saving:e.saving,loading:e.loading},on:{add:function(a){return t.addToNotes(e)},save:function(a){return t.saveMessage(e)},copy:function(a){return t.copyMessage(e)},remove:function(e){return t.removeItem(s)},generate_similar:function(a){return t.generate_similar(e)}}})],1)}))],2)])]),a("div",{staticClass:"row"},[t.answers.length>0?a("div",{staticClass:"fluidbtns mt-3"},[a("b-button",{attrs:{pill:"",variant:"outline-danger",disabled:t.loading},on:{click:function(e){return t.refreshMessage()}}},[t.loading?a("b-spinner",{staticClass:"mr-2",attrs:{small:"",label:"Spinning"}}):t._e(),t._v(" GIVE ME MORE ")],1)],1):t._e()])])],1)},i=[],o=a("153b"),r=a("4c1c"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 text-center pl-0"},[a("span",{staticClass:"formcount-no"},[t._v("1")])]),a("div",{staticClass:"col-11"},[a("b-form-group",{attrs:{label:"Choose a Writing Style"}},[a("vue-typeahead-bootstrap",{attrs:{data:t.domains,placeholder:"Enter a web address (e.g. forbes.com)"},model:{value:t.form.publication,callback:function(e){t.$set(t.form,"publication",e)},expression:"form.publication"}})],1)],1),a("div",{staticClass:"col-1 text-center pl-0"},[a("span",{staticClass:"formcount-no"},[t._v("2")])]),a("div",{staticClass:"col-5"},[a("b-form-group",{attrs:{label:"Media Contact"}},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:"e.g. Alice Smith"},model:{value:t.form.journalistName,callback:function(e){t.$set(t.form,"journalistName",e)},expression:"form.journalistName"}})],1)],1),a("div",{staticClass:"col-6"},[a("b-form-group",{attrs:{label:"Your Name"}},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:"e.g. Anna Lee",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("div",{staticClass:"col-1 text-center pl-0"}),a("div",{staticClass:"col-5"},[a("b-form-group",{attrs:{label:"Your Role"}},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:"e.g. CEO"},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}})],1)],1),a("div",{staticClass:"col-6"},[a("b-form-group",{attrs:{label:"Your Company"}},[a("b-form-input",{staticClass:"form-control",attrs:{placeholder:"Example: Antler Inc."},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1)],1),a("div",{staticClass:"col-1 text-center pl-0"},[a("span",{staticClass:"formcount-no"},[t._v("3")])]),a("div",{staticClass:"col-11"},[a("b-form-group",{attrs:{label:"What's your story?"}},[a("b-form-textarea",{attrs:{placeholder:"Provide an overview of your story. Include as many relevant details as needed",rows:"6"},model:{value:t.form.story,callback:function(e){t.$set(t.form,"story",e)},expression:"form.story"}}),a("div",{staticClass:"text-right"},[a("small",{class:{"text-danger":t.form.story.length>=t.limit}},[t._v(t._s(t.form.story.length)+"/"+t._s(t.limit)+" characters")])])],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-11"},[a("b-button",{staticClass:"mt-3 btn-fluids",attrs:{pill:"",size:"lg",variant:"danger",disabled:t.loading||!t.form.journalistName||!t.form.name||!t.form.publication},on:{click:t.onSubmit}},[t.loading?a("b-spinner",{staticClass:"mr-2",attrs:{small:"",label:"Spinning"}}):t._e(),t._v(" GENERATE")],1),t.loading?a("div",{staticClass:"text-small mt-2 text-helper text-center"},[t._v(" Making Magicâœ¨ ")]):t._e()],1)]),a("div",{staticClass:"d-flex align-items-center flex-column"})])},l=[],c=a("d726"),d=a("9864");const m="Media Pitch",g=[m],p={MEDIA_PITCH:m};var u=a("c0dc"),f={name:"MediaPitchModal",components:{VueTypeaheadBootstrap:c["a"]},props:["base_data"],data(){return{form:{outreachType:p.MEDIA_PITCH,journalistName:"",company:"",name:"",role:"",publication:"",story:""},OUTREACH_TYPES:p,outreachTypes:g,domains:d["a"],loading:!1,limit:1e3}},methods:{async onSubmit(){this.loading=!0,this.form["source_lang"]=this.$store.state.input_language,this.form["target_lang"]=this.$store.state.output_language;try{const{data:{messages:t}}=await Object(u["a"])().post("/doc/generate-media-pitch",this.form);this.$emit("generated",{messages:t,baseData:{...this.form}})}catch(t){}this.loading=!1},onReset(){this.form.journalistName="",this.form.name="",this.form.role="",this.form.company="",this.form.publication="",this.form.storyHook="",this.show=!1,this.$nextTick(()=>{this.show=!0})}},watch:{"form.story"(t,e){t.length>this.limit&&this.$nextTick(()=>{this.form.story=e})}},beforeMount(){this.base_data&&(this.form=this.base_data)}},h=f,b=(a("70a4"),a("2877")),A=Object(b["a"])(h,n,l,!1,null,"64bee4ef",null),v=A.exports,y=a("4be5"),C=a("cf45"),_=a("6ca3"),w=a("5acc"),B={name:"MediaPitch",data(){return{answers:[],baseData:null,selectedMessageIdx:0,loading:!1,project_id:null,selected_folder:"",file:null,past_answers:[],tool_type:w["e"].MEDIAPITCH}},components:{MediaPitchForm:v,ResizableEditor:r["a"],GeneratorTools:o["a"],WritingToolbar:_["a"]},beforeMount(){this.$route.params&&(this.project_id=this.$route.params.project_id?this.$route.params.project_id:null,this.selected_folder=this.$route.params.selected_folder?this.$route.params.selected_folder:"",this.file=this.$route.params.file?this.$route.params.file:null),this.file&&(this.project_id=this.file.project_id,this.past_answers=this.file.contents,this.baseData=this.file.base_data,this.save_flag="update")},methods:{async addToNotes(t){t.adding=!0,t.added=!0;try{const{data:{note:e}}=await y["a"].addNote({slug:this.baseData.journalistName,baseData:this.baseData,category:"Media Pitch",text:t.text,authors:this.baseData.name,url:"",year:"",publishedAt:(new Date).toLocaleDateString()});this.$root.$emit("generatedNote",e),t.added=!0}catch{}t.adding=!1},async refreshMessage(t){if(!this.loading){this.loading=!0;try{const{data:{messages:e}}=await Object(u["a"])().post("/doc/generate-media-pitch",{...this.baseData,new_model:t?t.answer:void 0});t&&(t.loading=!1),this.answers=[...this.answers,...e.map(t=>({...t,saved:!1,copied:!1,added:!1,saving:!1,adding:!1}))]}catch(e){}this.loading=!1}},generatedMessage({messages:t,baseData:e}){this.answers=t.map(t=>({...t,saved:!1,copied:!1,added:!1,saving:!1,adding:!1})),this.baseData=e},downloadMessage(t){Object(C["c"])(t,"Generated Pitch")},async saveMessage(t){t.saving=!0;try{await Object(u["a"])().post("/media-pitch",{text:t.text,baseData:this.baseData}),t.saved=!0}catch(e){}t.saving=!1},copyMessage(t){Object(C["a"])(t.text),t.copied=!0},removeItem(t){this.answers.splice(t,1)},removeItem_past(t){this.past_answers.splice(t,1)},generate_similar(t){t.loading=!0,this.refreshMessage(t)},download_results(){let t=[...this.past_answers,...this.answers];t=t.map(t=>t["text"]?'"'+t["text"]+'"\n':"");let e=this.tool_type+"_"+this.$refs.writing_toolbar.file_name;Object(C["d"])(t,e)}}},x=B,k=(a("51cb"),Object(b["a"])(x,s,i,!1,null,"5c5a1040",null));e["default"]=k.exports},e935:function(t,e,a){}}]);
//# sourceMappingURL=chunk-25feb831.e61e54cd.js.map